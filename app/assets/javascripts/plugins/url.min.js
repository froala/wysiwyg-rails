/*!
 * froala_editor v3.1.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2020 Froala Labs
 */

!function (e, t) { "object" == typeof exports && "undefined" != typeof module ? t(require("froala-editor")) : "function" == typeof define && define.amd ? define(["froala-editor"], t) : t(e.FroalaEditor) }(this, function (r) { "use strict"; (r = r && r.hasOwnProperty("default") ? r["default"] : r).URLRegEx = "(^| |\\u00A0)(".concat(r.LinkRegEx, "|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\\.[a-z0-9+-_]{1,}))$"), r.PLUGINS.url = function (a) { var i = a.$, l = null; function t(e, t, n) { for (var r = ""; n.length && "." == n[n.length - 1];)r += ".", n = n.substring(0, n.length - 1); var o = n; if (a.opts.linkConvertEmailAddress) a.helpers.isEmail(o) && !/^mailto:.*/i.test(o) && (o = "mailto:".concat(o)); else if (a.helpers.isEmail(o)) return t + n; return /^((http|https|ftp|ftps|mailto|tel|sms|notes|data)\:)/i.test(o) || (o = "//".concat(o)), (t || "") + "<a".concat(a.opts.linkAlwaysBlank ? ' target="_blank"' : "").concat(l ? ' rel="'.concat(l, '"') : "", ' data-fr-linked="true" href="').concat(o, '">').concat(n.replace(/&amp;/g, "&").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;"), "</a>").concat(r) } var s = function s() { return new RegExp(r.URLRegEx, "gi") }; function p(e) { return a.opts.linkAlwaysNoFollow && (l = "nofollow"), a.opts.linkAlwaysBlank && (a.opts.linkNoOpener && (l ? l += " noopener" : l = "noopener"), a.opts.linkNoReferrer && (l ? l += " noreferrer" : l = "noreferrer")), e.replace(s(), t) } function c(e) { var t = e.split(" "); return t[t.length - 1] } function n() { var e = a.selection.ranges(0), t = e.startContainer; if (!t || t.nodeType !== Node.TEXT_NODE || e.startOffset !== (t.textContent || "").length) return !1; if (function o(e) { return !!e && ("A" === e.tagName || !(!e.parentNode || e.parentNode == a.el) && o(e.parentNode)) }(t)) return !1; if (s().test(c(t.textContent))) { i(t).before(p(t.textContent)); var n = i(t.parentNode).find("a[data-fr-linked]"); n.removeAttr("data-fr-linked"), t.parentNode.removeChild(t), a.events.trigger("url.linked", [n.get(0)]) } else if (t.textContent.split(" ").length <= 2 && t.previousSibling && "A" === t.previousSibling.tagName) { var r = t.previousSibling.innerText + t.textContent; s().test(c(r)) && (i(t.previousSibling).replaceWith(p(r)), t.parentNode.removeChild(t)) } } return { _init: function e() { a.events.on("keypress", function (e) { !a.selection.isCollapsed() || "." != e.key && ")" != e.key && "(" != e.key || n() }, !0), a.events.on("keydown", function (e) { var t = e.which; !a.selection.isCollapsed() || t != r.KEYCODE.ENTER && t != r.KEYCODE.SPACE || n() }, !0), a.events.on("paste.beforeCleanup", function (e) { if (a.helpers.isURL(e)) { var t = null; return a.opts.linkAlwaysBlank && (a.opts.linkNoOpener && (t ? t += " noopener" : t = "noopener"), a.opts.linkNoReferrer && (t ? t += " noreferrer" : t = "noreferrer")), "<a".concat(a.opts.linkAlwaysBlank ? ' target="_blank"' : "").concat(t ? ' rel="'.concat(t, '"') : "", ' href="').concat(e, '" >').concat(e, "</a>") } }) } } } });